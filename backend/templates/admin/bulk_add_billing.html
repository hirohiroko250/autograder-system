{% extends "admin/base_site.html" %}
{% load i18n static admin_urls %}

{% block title %}èª²é‡‘ãƒ¬ãƒãƒ¼ãƒˆä¸€æ‹¬è¿½åŠ {% endblock %}

{% block breadcrumbs %}
<div class="breadcrumbs">
    <a href="{% url 'admin:index' %}">ãƒ›ãƒ¼ãƒ </a>
    &rsaquo; <a href="{% url 'admin:classrooms_schoolbillingreport_changelist' %}">èª²é‡‘ãƒ¬ãƒãƒ¼ãƒˆ</a>
    &rsaquo; ä¸€æ‹¬è¿½åŠ 
</div>
{% endblock %}

{% block content %}
<div class="add-form">
    <h1>èª²é‡‘ãƒ¬ãƒãƒ¼ãƒˆä¸€æ‹¬è¿½åŠ </h1>

    <p class="help">å¹´åº¦ã¨æœŸé–“ã‚’é¸æŠã—ã¦ã€å…¨ã¦ã®å¡¾ã®èª²é‡‘ãƒ¬ãƒãƒ¼ãƒˆã‚’ä¸€æ‹¬ã§ç”Ÿæˆã—ã¾ã™ã€‚</p>

    <form method="post" id="bulk-add-form" style="margin-top: 2rem;">
        {% csrf_token %}

        <div class="form-row">
            <div class="field-box">
                <label for="id_year" class="required">å¹´åº¦:</label>
                <select name="year" id="id_year" class="vTextField" required>
                    <option value="">å¹´åº¦ã‚’é¸æŠã—ã¦ãã ã•ã„</option>
                    {% for year in years %}
                        <option value="{{ year }}">{{ year }}å¹´åº¦</option>
                    {% endfor %}
                </select>
            </div>
        </div>

        <div class="form-row">
            <div class="field-box">
                <label for="id_period" class="required">æœŸé–“:</label>
                <select name="period" id="id_period" class="vTextField" required>
                    <option value="">æœŸé–“ã‚’é¸æŠã—ã¦ãã ã•ã„</option>
                    {% for period_key, period_name in periods %}
                        <option value="{{ period_key }}">{{ period_name }}</option>
                    {% endfor %}
                </select>
            </div>
        </div>

        <div class="submit-row" style="margin-top: 2rem;">
            <input type="submit" value="ğŸ“Š èª²é‡‘ãƒ¬ãƒãƒ¼ãƒˆã‚’ä¸€æ‹¬ç”Ÿæˆ" class="default" name="_save" style="background: #28a745; color: white; font-weight: bold; padding: 10px 20px; border: none; border-radius: 4px;">
            <p class="deletelink-box">
                <a href="{% url 'admin:classrooms_schoolbillingreport_changelist' %}" class="deletelink">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</a>
            </p>
        </div>
    </form>

    <div class="help-text" style="margin-top: 3rem; padding: 1rem; background: #f8f9fa; border-left: 4px solid #007cba;">
        <h3>ğŸ’¡ ä½¿ç”¨æ–¹æ³•</h3>
        <ol>
            <li><strong>å¹´åº¦</strong>ï¼šèª²é‡‘å¯¾è±¡ã®å¹´åº¦ã‚’é¸æŠã—ã¦ãã ã•ã„</li>
            <li><strong>æœŸé–“</strong>ï¼šæ˜¥æœŸãƒ»å¤æœŸãƒ»å†¬æœŸã‹ã‚‰é¸æŠã—ã¦ãã ã•ã„</li>
            <li><strong>å®Ÿè¡Œ</strong>ï¼šã€Œèª²é‡‘ãƒ¬ãƒãƒ¼ãƒˆã‚’ä¸€æ‹¬ç”Ÿæˆã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€å…¨ã¦ã®å¡¾ã®èª²é‡‘ãƒ¬ãƒãƒ¼ãƒˆãŒè‡ªå‹•ç”Ÿæˆã•ã‚Œã¾ã™</li>
        </ol>

        <div style="margin-top: 1rem; padding: 0.5rem; background: #fff3cd; border: 1px solid #ffeaa7; border-radius: 4px;">
            <strong>âš ï¸ æ³¨æ„äº‹é …</strong>
            <ul style="margin-top: 0.5rem;">
                <li>æ—¢ã«åŒã˜å¹´åº¦ãƒ»æœŸé–“ã®ãƒ¬ãƒãƒ¼ãƒˆãŒå­˜åœ¨ã™ã‚‹å ´åˆã¯ä¸Šæ›¸ãã•ã‚Œã¾ã™</li>
                <li>å„å¡¾ã®ä¼šå“¡ç¨®åˆ¥ã¨ç”Ÿå¾’æ•°ã«åŸºã¥ã„ã¦èª²é‡‘é¡ãŒè¨ˆç®—ã•ã‚Œã¾ã™</li>
                <li>ç”Ÿæˆã«ã¯æ•°ç§’ã‹ã‹ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™</li>
            </ul>
        </div>
    </div>
</div>

<style>
.add-form {
    max-width: 800px;
    margin: 0 auto;
    padding: 2rem;
}

.form-row {
    margin-bottom: 1.5rem;
}

.field-box {
    margin-bottom: 1rem;
}

.field-box label {
    display: block;
    font-weight: bold;
    margin-bottom: 0.5rem;
    color: #333;
}

.field-box select {
    width: 100%;
    max-width: 300px;
    padding: 8px;
    font-size: 14px;
    border: 1px solid #ccc;
    border-radius: 4px;
}

.help {
    color: #666;
    font-size: 14px;
    margin-bottom: 2rem;
    padding: 1rem;
    background: #f0f8ff;
    border-left: 4px solid #007cba;
    border-radius: 4px;
}

.help-text h3 {
    margin-top: 0;
    color: #007cba;
}

.submit-row input[type="submit"]:hover {
    background: #218838 !important;
}
</style>
{% endblock %}