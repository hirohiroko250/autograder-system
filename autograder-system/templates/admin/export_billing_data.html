{% extends "admin/base_site.html" %}
{% load i18n admin_urls static admin_modify %}

{% block title %}{{ title }} | {{ site_title|default:_('Django site admin') }}{% endblock %}

{% block breadcrumbs %}
<div class="breadcrumbs">
    <a href="{% url 'admin:index' %}">{% trans 'Home' %}</a>
    &rsaquo; <a href="{% url 'admin:app_list' app_label=opts.app_label %}">{{ opts.app_config.verbose_name }}</a>
    &rsaquo; <a href="{% url 'admin:classrooms_billingreport_changelist' %}">{{ opts.verbose_name_plural|capfirst }}</a>
    &rsaquo; {{ title }}
</div>
{% endblock %}

{% block content %}
<div class="module aligned" style="max-width: 800px; margin: 0 auto;">
    <h1>ğŸ“Š è«‹æ±‚æƒ…å ±ä¸€æ‹¬ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ</h1>
    
    <div class="help" style="margin-bottom: 20px;">
        <p><strong>å¾—ç‚¹ãƒ»ãƒ†ã‚¹ãƒˆçµæœãƒ‡ãƒ¼ã‚¿ã‹ã‚‰ã€å®Ÿéš›ã«å‡ºå¸­ã—ãŸç”Ÿå¾’ã®è«‹æ±‚æƒ…å ±ã‚’å¡¾ã”ã¨ã«é›†è¨ˆã—ã¦ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã§ãã¾ã™ã€‚</strong></p>
        <ul>
            <li>å¹´åº¦ã¨æœŸé–“ã‚’é¸æŠã—ã¦ã€è©²å½“ã™ã‚‹å¡¾ã®å‡ºå¸­æ¸ˆã¿ç”Ÿå¾’ã®è«‹æ±‚æƒ…å ±ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™</li>
            <li>å¾—ç‚¹ãƒ‡ãƒ¼ã‚¿ï¼ˆattendance=Trueï¼‰ã‚’ãƒ™ãƒ¼ã‚¹ã«å®Ÿéš›ã®å‡ºå¸­è€…ã®ã¿ã‚’å¯¾è±¡ã¨ã—ã¾ã™</li>
            <li>ã‚µãƒãƒªãƒ¼ã‚·ãƒ¼ãƒˆã«ã¯ä¼šå“¡ç¨®åˆ¥ã”ã¨ã®å¡¾æ•°ãƒ»å‡ºå¸­ç”Ÿå¾’æ•°ãƒ»é‡‘é¡ãŒå«ã¾ã‚Œã¾ã™</li>
            <li>è©³ç´°ã‚·ãƒ¼ãƒˆã«ã¯å„å¡¾ã®æƒ…å ±ã¨å—é¨“ç§‘ç›®åˆ¥ã®ç”Ÿå¾’è©³ç´°ãŒå«ã¾ã‚Œã¾ã™</li>
            <li>Excelå½¢å¼ã¾ãŸã¯CSVå½¢å¼ã‚’é¸æŠã§ãã¾ã™</li>
        </ul>
    </div>

    {% if messages %}
        <ul class="messagelist">
            {% for message in messages %}
                <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message|capfirst }}</li>
            {% endfor %}
        </ul>
    {% endif %}

    <form method="post" class="form-horizontal">
        {% csrf_token %}
        
        <fieldset class="module aligned">
            <h2>ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆè¨­å®š</h2>
            
            <div class="form-row">
                <div>
                    <label class="required" for="id_year">å¹´åº¦:</label>
                    <select name="year" id="id_year" required>
                        <option value="">----å¹´åº¦ã‚’é¸æŠ----</option>
                        {% for year in years %}
                            <option value="{{ year }}">{{ year }}å¹´åº¦</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
            
            <div class="form-row">
                <div>
                    <label class="required" for="id_period">æœŸé–“:</label>
                    <select name="period" id="id_period" required>
                        <option value="">----æœŸé–“ã‚’é¸æŠ----</option>
                        {% for period in periods %}
                            <option value="{{ period.value }}">{{ period.label }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
            
            <div class="form-row">
                <div>
                    <label class="required" for="id_export_format">ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼:</label>
                    <select name="export_format" id="id_export_format">
                        <option value="excel">Excel (.xlsx)</option>
                        <option value="csv">CSV (.csv)</option>
                    </select>
                    <p class="help">Excelå½¢å¼ã‚’ãŠå‹§ã‚ã—ã¾ã™ï¼ˆã‚µãƒãƒªãƒ¼æƒ…å ±ã¨ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ãŒå«ã¾ã‚Œã¾ã™ï¼‰</p>
                </div>
            </div>
        </fieldset>
        
        <div class="submit-row">
            <input type="submit" value="ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆå®Ÿè¡Œ" class="default" />
            <a href="{% url 'admin:classrooms_billingreport_changelist' %}" class="button">æˆ»ã‚‹</a>
        </div>
    </form>
    
    <div class="help" style="margin-top: 30px; padding: 15px; border: 1px solid #ddd; background: #f9f9f9;">
        <h3>ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚Œã‚‹æƒ…å ±</h3>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
            <div>
                <h4>ğŸ“‹ ã‚µãƒãƒªãƒ¼ã‚·ãƒ¼ãƒˆ</h4>
                <ul>
                    <li>ä¼šå“¡ç¨®åˆ¥ã”ã¨ã®é›†è¨ˆ</li>
                    <li>å¡¾æ•°</li>
                    <li>å‡ºå¸­ç”Ÿå¾’æ•°</li>
                    <li>å˜ä¾¡ã¨åˆè¨ˆé‡‘é¡</li>
                    <li>å…¨ä½“åˆè¨ˆ</li>
                </ul>
            </div>
            <div>
                <h4>ğŸ“ è©³ç´°ãƒ‡ãƒ¼ã‚¿ã‚·ãƒ¼ãƒˆ</h4>
                <ul>
                    <li>å¡¾IDã€å¡¾åã€ä¼šå“¡ç¨®åˆ¥</li>
                    <li>æ‹…å½“è€…ãƒ»é€£çµ¡å…ˆãƒ»ä½æ‰€æƒ…å ±</li>
                    <li>å‡ºå¸­ç”Ÿå¾’æ•°ã¨æ–™é‡‘æƒ…å ±</li>
                    <li>å—é¨“ç”Ÿå¾’è©³ç´°ï¼ˆç§‘ç›®åˆ¥ï¼‰</li>
                </ul>
            </div>
        </div>
        
        <div style="margin-top: 15px; padding: 10px; background: #e7f3ff; border-left: 4px solid #2196f3;">
            <strong>ğŸ’¡ ãƒ’ãƒ³ãƒˆ:</strong> ã“ã®æ©Ÿèƒ½ã¯å¾—ç‚¹ãƒ‡ãƒ¼ã‚¿ï¼ˆScoreãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰ã‹ã‚‰ç›´æ¥å‡ºå¸­æ¸ˆã¿ç”Ÿå¾’ã‚’æŠ½å‡ºã—ã¾ã™ã€‚
            å¾—ç‚¹å…¥åŠ›ãŒå®Œäº†ã—ã¦ã„ã‚‹å¹´åº¦ãƒ»æœŸé–“ã®ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ãŒå¯¾è±¡ã¨ãªã‚Šã¾ã™ã€‚
        </div>
    </div>
</div>

<style>
.form-horizontal .form-row {
    margin-bottom: 15px;
}

.form-horizontal label {
    display: inline-block;
    width: 120px;
    font-weight: bold;
}

.form-horizontal select {
    width: 200px;
    padding: 5px;
    border: 1px solid #ccc;
    border-radius: 4px;
}

.help ul {
    margin-left: 20px;
}

.submit-row {
    margin-top: 20px;
    padding: 10px 0;
    border-top: 1px solid #ddd;
}

.submit-row .default {
    background: #417690;
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 4px;
    cursor: pointer;
    font-size: 14px;
    margin-right: 10px;
}

.submit-row .default:hover {
    background: #205067;
}

.submit-row .button {
    background: #f8f8f8;
    color: #333;
    border: 1px solid #ccc;
    padding: 10px 20px;
    border-radius: 4px;
    text-decoration: none;
    font-size: 14px;
}

.submit-row .button:hover {
    background: #e8e8e8;
}

h3, h4 {
    color: #333;
    margin-top: 15px;
    margin-bottom: 10px;
}
</style>
{% endblock %}